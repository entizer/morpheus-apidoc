## Storage Volumes

Provides API for managing Storage Volumes.

## Get All Storage Volumes

```shell
curl "<%= curl_url %>/api/storage-volumes"
  -H "Authorization: BEARER <%= curl_token %>"
```

> The above command returns JSON structured like this:

```json
{
  "storageVolumes": [
    {
      "id": 161073,
      "name": "data",
      "description": null,
      "controllerId": 453611,
      "controllerMountPoint": "453611:0:4:1",
      "resizeable": true,
      "rootVolume": false,
      "unitNumber": "1",
      "deviceName": "/dev/sda",
      "deviceDisplayName": "sda",
      "type": {
        "id": 1,
        "code": "standard",
        "name": "Disk"
      },
      "typeId": 1,
      "status": "provisioned",
      "statusMessage": null,
      "configurableIOPS": false,
      "maxStorage": 214748364800,
      "displayOrder": 0,
      "maxIOPS": null,
      "uuid": null,
      "active": true,
      "zone": {
        "id": 29,
        "name": "den-vcenter"
      },
      "zoneId": null,
      "datastore": null,
      "datastoreId": null,
      "storageGroup": null,
      "storageServer": null,
      "source": "den-vcenter",
      "owner": {
        "id": 1,
        "name": "<%= company_name %>"
      }
    },
    {
      "id": 161339,
      "name": "data",
      "description": null,
      "controllerId": 454082,
      "controllerMountPoint": "454082:0:4:1",
      "resizeable": true,
      "rootVolume": false,
      "unitNumber": "1",
      "deviceName": "/dev/sda",
      "deviceDisplayName": "sda",
      "type": {
        "id": 1,
        "code": "standard",
        "name": "Disk"
      },
      "typeId": 1,
      "status": "provisioned",
      "statusMessage": null,
      "configurableIOPS": false,
      "maxStorage": 193273528320,
      "displayOrder": 0,
      "maxIOPS": null,
      "uuid": null,
      "active": true,
      "zone": {
        "id": 34,
        "name": "vmware"
      },
      "zoneId": null,
      "datastore": null,
      "datastoreId": null,
      "storageGroup": null,
      "storageServer": null,
      "source": "vmware",
      "owner": {
        "id": 1,
        "name": "<%= company_name %>"
      }
    },
    {
      "id": 161086,
      "name": "data",
      "description": null,
      "controllerId": 453647,
      "controllerMountPoint": "453647:0:6:1",
      "resizeable": true,
      "rootVolume": false,
      "unitNumber": "1",
      "deviceName": "/dev/sda",
      "deviceDisplayName": "sda",
      "type": {
        "id": 1,
        "code": "standard",
        "name": "Disk"
      },
      "typeId": 1,
      "status": "provisioned",
      "statusMessage": null,
      "configurableIOPS": false,
      "maxStorage": 107374182400,
      "displayOrder": 0,
      "maxIOPS": null,
      "uuid": null,
      "active": true,
      "zone": {
        "id": 29,
        "name": "den-vcenter"
      },
      "zoneId": null,
      "datastore": null,
      "datastoreId": null,
      "storageGroup": null,
      "storageServer": null,
      "source": "den-vcenter",
      "owner": {
        "id": 1,
        "name": "<%= company_name %>"
      }
    },
    {
      "id": 168510,
      "name": "data",
      "description": null,
      "controllerId": 461271,
      "controllerMountPoint": "461271:0:4:1",
      "resizeable": true,
      "rootVolume": false,
      "unitNumber": "1",
      "deviceName": "/dev/sdb",
      "deviceDisplayName": "sdb",
      "type": {
        "id": 1,
        "code": "standard",
        "name": "Disk"
      },
      "typeId": 1,
      "status": "provisioned",
      "statusMessage": null,
      "configurableIOPS": false,
      "maxStorage": 4294967296,
      "displayOrder": 1,
      "maxIOPS": null,
      "uuid": "4dfd4eba-4993-460a-ab7f-d48c51f2771e",
      "active": true,
      "zone": {
        "id": 34,
        "name": "vmware"
      },
      "zoneId": null,
      "datastore": null,
      "datastoreId": null,
      "storageGroup": null,
      "storageServer": null,
      "source": " on ",
      "owner": {
        "id": 1,
        "name": "<%= company_name %>"
      }
    },
    {
      "id": 161093,
      "name": "data",
      "description": null,
      "controllerId": 453665,
      "controllerMountPoint": "453665:0:4:1",
      "resizeable": true,
      "rootVolume": false,
      "unitNumber": "1",
      "deviceName": "/dev/sda",
      "deviceDisplayName": "sda",
      "type": {
        "id": 1,
        "code": "standard",
        "name": "Disk"
      },
      "typeId": 1,
      "status": "provisioned",
      "statusMessage": null,
      "configurableIOPS": false,
      "maxStorage": 4294967296,
      "displayOrder": 0,
      "maxIOPS": null,
      "uuid": null,
      "active": true,
      "zone": {
        "id": 29,
        "name": "den-vcenter"
      },
      "zoneId": null,
      "datastore": null,
      "datastoreId": null,
      "storageGroup": null,
      "storageServer": null,
      "source": " on ",
      "owner": {
        "id": 1,
        "name": "<%= company_name %>"
      }
    },
    {
      "id": 169806,
      "name": "data",
      "description": null,
      "controllerId": null,
      "controllerMountPoint": null,
      "resizeable": true,
      "rootVolume": true,
      "unitNumber": null,
      "deviceName": "/dev/sda1",
      "deviceDisplayName": "xvda",
      "type": {
        "id": 5,
        "code": "amazon-gp2",
        "name": "gp2"
      },
      "typeId": 5,
      "status": "attached",
      "statusMessage": null,
      "configurableIOPS": false,
      "maxStorage": 10737418240,
      "displayOrder": 0,
      "maxIOPS": null,
      "uuid": "47c1fcc5-0e9c-49ab-acef-1e343c83634f",
      "active": true,
      "zone": {
        "id": 39,
        "name": "qa-amazon2"
      },
      "zoneId": null,
      "datastore": null,
      "datastoreId": null,
      "storageGroup": null,
      "storageServer": null,
      "source": "qa-amazon2",
      "owner": {
        "id": 1,
        "name": "<%= company_name %>"
      }
    },
    {
      "id": 169807,
      "name": "data",
      "description": null,
      "controllerId": null,
      "controllerMountPoint": null,
      "resizeable": true,
      "rootVolume": true,
      "unitNumber": null,
      "deviceName": "/dev/xvda",
      "deviceDisplayName": "xvda",
      "type": {
        "id": 5,
        "code": "amazon-gp2",
        "name": "gp2"
      },
      "typeId": 5,
      "status": "provisioned",
      "statusMessage": null,
      "configurableIOPS": false,
      "maxStorage": 10737418240,
      "displayOrder": 0,
      "maxIOPS": null,
      "uuid": "fb118f47-6e5b-4ca8-ae2c-31b2548dcf25",
      "active": true,
      "zone": {
        "id": 39,
        "name": "qa-amazon2"
      },
      "zoneId": null,
      "datastore": null,
      "datastoreId": null,
      "storageGroup": null,
      "storageServer": null,
      "source": "qa-amazon2",
      "owner": {
        "id": 1,
        "name": "<%= company_name %>"
      }
    },
    {
      "id": 206678,
      "name": "data",
      "description": null,
      "controllerId": 468113,
      "controllerMountPoint": "468113:0:4:1",
      "resizeable": true,
      "rootVolume": false,
      "unitNumber": "1",
      "deviceName": "/dev/sdb",
      "deviceDisplayName": "sdb",
      "type": {
        "id": 1,
        "code": "standard",
        "name": "Disk"
      },
      "typeId": 1,
      "status": "provisioned",
      "statusMessage": null,
      "configurableIOPS": false,
      "maxStorage": 10737418240,
      "displayOrder": 1,
      "maxIOPS": null,
      "uuid": "43deab59-ebd2-4984-a907-482c463474f6",
      "active": true,
      "zone": {
        "id": 34,
        "name": "vmware"
      },
      "zoneId": null,
      "datastore": null,
      "datastoreId": null,
      "storageGroup": null,
      "storageServer": null,
      "source": " on ",
      "owner": {
        "id": 1,
        "name": "<%= company_name %>"
      }
    },
    {
      "id": 207466,
      "name": "data",
      "description": null,
      "controllerId": 468224,
      "controllerMountPoint": "468224:0:4:1",
      "resizeable": true,
      "rootVolume": false,
      "unitNumber": "1",
      "deviceName": "/dev/sdb",
      "deviceDisplayName": "sdb",
      "type": {
        "id": 1,
        "code": "standard",
        "name": "Disk"
      },
      "typeId": 1,
      "status": "provisioned",
      "statusMessage": null,
      "configurableIOPS": false,
      "maxStorage": 10737418240,
      "displayOrder": 1,
      "maxIOPS": null,
      "uuid": "1d04f10d-4a9d-451d-b18e-f5105cf6cd5a",
      "active": true,
      "zone": {
        "id": 34,
        "name": "vmware"
      },
      "zoneId": null,
      "datastore": null,
      "datastoreId": null,
      "storageGroup": null,
      "storageServer": null,
      "source": " on ",
      "owner": {
        "id": 1,
        "name": "<%= company_name %>"
      }
    },
    {
      "id": 207482,
      "name": "data",
      "description": null,
      "controllerId": 468245,
      "controllerMountPoint": "468245:0:4:1",
      "resizeable": true,
      "rootVolume": false,
      "unitNumber": "1",
      "deviceName": "/dev/sdb",
      "deviceDisplayName": "sdb",
      "type": {
        "id": 1,
        "code": "standard",
        "name": "Disk"
      },
      "typeId": 1,
      "status": "provisioned",
      "statusMessage": null,
      "configurableIOPS": false,
      "maxStorage": 10737418240,
      "displayOrder": 1,
      "maxIOPS": null,
      "uuid": "c89ed79c-b4f4-4bcc-a123-fff4a38303c7",
      "active": true,
      "zone": {
        "id": 34,
        "name": "vmware"
      },
      "zoneId": null,
      "datastore": null,
      "datastoreId": null,
      "storageGroup": null,
      "storageServer": null,
      "source": " on ",
      "owner": {
        "id": 1,
        "name": "<%= company_name %>"
      }
    }
  ],
  "meta": {
    "offset": 0,
    "max": 25,
    "size": 25,
    "total": 9387
  }
}
```

This endpoint retrieves all storage volumes associated with the account.

### HTTP Request

`GET <%= api_url %>/api/storage-volumes`

### Query Parameters

Parameter | Default | Description
--------- | ------- | -----------
max | 25 | Max number of results to return
offset | 0 | Offset of records you want to load
sort | name | Sort order
direction | asc | Sort direction, use 'desc' to reverse sort
phrase |  | If specified will return a partial match on name
name |  | If specified will return an exact match on name

## Get a Specific Storage Volume


```shell
curl "<%= curl_url %>/api/storage-volumes/1" \
  -H "Authorization: BEARER <%= curl_token %>"
```

> The above command returns JSON structured like this:

```json
{
  "success": true,
  "storageVolume": {
    "id": 207482,
    "name": "data",
    "description": null,
    "controllerId": 468245,
    "controllerMountPoint": "468245:0:4:1",
    "resizeable": true,
    "rootVolume": false,
    "unitNumber": "1",
    "deviceName": "/dev/sdb",
    "deviceDisplayName": "sdb",
    "type": {
      "id": 1,
      "code": "standard",
      "name": "Disk"
    },
    "typeId": 1,
    "status": "provisioned",
    "statusMessage": null,
    "configurableIOPS": false,
    "maxStorage": 10737418240,
    "displayOrder": 1,
    "maxIOPS": null,
    "uuid": "c89ed79c-b4f4-4bcc-a123-fff4a38303c7",
    "active": true,
    "zone": {
      "id": 34,
      "name": "vmware"
    },
    "zoneId": null,
    "datastore": null,
    "datastoreId": null,
    "storageGroup": null,
    "storageServer": null,
    "source": " on ",
    "owner": {
      "id": 1,
      "name": "<%= company_name %>"
    }
  }
}
```

This endpoint retrieves a specific Storage Volume.


### HTTP Request

`GET <%= api_url %>/api/storage-volumes/:id`

### URL Parameters

Parameter | Description
--------- | -----------
ID | The ID of the Storage Volume to retrieve

## Create a Storage Volume

```shell
curl -XPOST "<%= curl_url %>/api/storage-volumes" \
  -H "Authorization: BEARER <%= curl_token %>" \
  -H "Content-Type: application/json" \
  -d '{
  "storageVolume": {
    "storageServer": {
      "id": 679
    },
    "storageGroup": {
      "id": 37
    },
    "type": "isilon",
    "name": "test-volume",
    "namespace": {
      "id": 19
    },
    "maxStorage": 214748364800
  }
}'
```

> The above command returns JSON structured like getting a single Storage Volume: 

### HTTP Request

`POST <%= api_url %>/api/storage-volumes`

### JSON Parameters

Parameter | Default | Description
--------- | ------- | -----------
storageServer.id      |  | [Storage Server](#storage-servers) ID
storageGroup.id      |  | Storage Group ID
type      |  | Storage Type Code or ID
name      |  | Name
config |  | Configuration object with parameters that vary by [type](#storage-server-types).

This endpoint allows creating a Storage Volume.  Only certain types of storage servers support creating and deleting storage volumes, such as 3Par and Isilon. Configuration options vary by [Storage Volume Type](#storage-volume-types).


## Delete a Storage Volume

```shell
curl -XDELETE "<%= curl_url %>/api/storage-volumes/:id" \
  -H "Authorization: BEARER <%= curl_token %>"
```

> The above command returns JSON Structured like this:

```json
{
  "success": true
}
```

Will delete a Storage Volume from the system and make it no longer usable. Only certain types support this action.

### HTTP Request

`DELETE <%= api_url %>/api/storage-volumes/:id`

### URL Parameters

Parameter | Description
--------- | -----------
ID | The ID of the Storage Volume

